<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.sxhalo.lmb.mapper.CoalCompanyRealtimeInfoMapper" >
  <resultMap id="BaseResultMap" type="com.sxhalo.lmb.domain.CoalCompanyRealtimeInfo" >
    <id column="mine_mouth_id" property="mineMouthId" jdbcType="BIGINT" />
    <id column="report_time" property="reportTime" jdbcType="TIMESTAMP" />
    <result column="report_user" property="reportUser" jdbcType="INTEGER" />
    <result column="vehicle_queue_length" property="vehicleQueueLength" jdbcType="INTEGER" />
    <result column="is_congestion" property="isCongestion" jdbcType="INTEGER" />
    <result column="goods_available" property="goodsAvailable" jdbcType="INTEGER" />
    <result column="summary" property="summary" jdbcType="VARCHAR" />
    <result column="scene_pic_code1" property="scenePicCode1" jdbcType="VARCHAR" />
    <result column="scene_pic_code2" property="scenePicCode2" jdbcType="VARCHAR" />
    <result column="scene_pic_code3" property="scenePicCode3" jdbcType="VARCHAR" />
    <result column="scene_pic_code4" property="scenePicCode4" jdbcType="VARCHAR" />
    <result column="scene_pic_code5" property="scenePicCode5" jdbcType="VARCHAR" />
    <result column="scene_pic_code6" property="scenePicCode6" jdbcType="VARCHAR" />
    <result column="scene_pic_code7" property="scenePicCode7" jdbcType="VARCHAR" />
    <result column="scene_pic_code8" property="scenePicCode8" jdbcType="VARCHAR" />
    <result column="scene_pic_code9" property="scenePicCode9" jdbcType="VARCHAR" />
    <result column="verify_user" property="verifyUser" jdbcType="INTEGER" />
    <result column="verify_time" property="verifyTime" jdbcType="TIMESTAMP" />
    <result column="verify_state" property="verifyState" jdbcType="INTEGER" />
    <result column="verify_memo" property="verifyMemo" jdbcType="VARCHAR" />
    <result column="valid_till" property="validTill" jdbcType="TIMESTAMP" />
    <result column="delete_flag" property="deleteFlag" jdbcType="INTEGER" />
    <association property="mineMouthName" column="mine_mouth_id" select="com.sxhalo.lmb.mapper.CoalCompanyRealtimeInfoMapper.getMineMouthName"/>
	<association property="operatingStatus" column="operating_status" select="com.sxhalo.lmb.mapper.CoalCompanyRealtimeInfoMapper.getOperatingStatus"/>
  </resultMap>
  <sql id="Base_Column_List" >
    mine_mouth_id, report_time, report_user, vehicle_queue_length, is_congestion, goods_available, 
    summary, scene_pic_code1, scene_pic_code2, scene_pic_code3, scene_pic_code4, scene_pic_code5, 
    scene_pic_code6, scene_pic_code7, scene_pic_code8, scene_pic_code9, verify_user, 
    verify_time, verify_state, verify_memo, valid_till, delete_flag
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="com.sxhalo.lmb.domain.CoalCompanyRealtimeInfoKey" >
    select 
    <include refid="Base_Column_List" />
    from coal_company_realtime_info
    where mine_mouth_id = #{mineMouthId,jdbcType=BIGINT}
      and report_time = #{reportTime,jdbcType=TIMESTAMP}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="com.sxhalo.lmb.domain.CoalCompanyRealtimeInfoKey" >
    delete from coal_company_realtime_info
    where mine_mouth_id = #{mineMouthId,jdbcType=BIGINT}
      and report_time = #{reportTime,jdbcType=TIMESTAMP}
  </delete>
  <insert id="insert" parameterType="com.sxhalo.lmb.domain.CoalCompanyRealtimeInfo" >
    insert into coal_company_realtime_info (mine_mouth_id, report_time, report_user, 
      vehicle_queue_length, is_congestion, goods_available, 
      summary, scene_pic_code1, scene_pic_code2, 
      scene_pic_code3, scene_pic_code4, scene_pic_code5, 
      scene_pic_code6, scene_pic_code7, scene_pic_code8, 
      scene_pic_code9, verify_user, verify_time, 
      verify_state, verify_memo, valid_till, 
      delete_flag)
    values (#{mineMouthId,jdbcType=BIGINT}, #{reportTime,jdbcType=TIMESTAMP}, #{reportUser,jdbcType=INTEGER}, 
      #{vehicleQueueLength,jdbcType=INTEGER}, #{isCongestion,jdbcType=INTEGER}, #{goodsAvailable,jdbcType=INTEGER}, 
      #{summary,jdbcType=VARCHAR}, #{scenePicCode1,jdbcType=VARCHAR}, #{scenePicCode2,jdbcType=VARCHAR}, 
      #{scenePicCode3,jdbcType=VARCHAR}, #{scenePicCode4,jdbcType=VARCHAR}, #{scenePicCode5,jdbcType=VARCHAR}, 
      #{scenePicCode6,jdbcType=VARCHAR}, #{scenePicCode7,jdbcType=VARCHAR}, #{scenePicCode8,jdbcType=VARCHAR}, 
      #{scenePicCode9,jdbcType=VARCHAR}, #{verifyUser,jdbcType=INTEGER}, #{verifyTime,jdbcType=TIMESTAMP}, 
      #{verifyState,jdbcType=INTEGER}, #{verifyMemo,jdbcType=VARCHAR}, #{validTill,jdbcType=TIMESTAMP}, 
      #{deleteFlag,jdbcType=INTEGER})
  </insert>
  <insert id="insertSelective" parameterType="com.sxhalo.lmb.domain.CoalCompanyRealtimeInfo" >
    insert into coal_company_realtime_info
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="mineMouthId != null" >
        mine_mouth_id,
      </if>
      <if test="reportTime != null" >
        report_time,
      </if>
      <if test="reportUser != null" >
        report_user,
      </if>
      <if test="vehicleQueueLength != null" >
        vehicle_queue_length,
      </if>
      <if test="isCongestion != null" >
        is_congestion,
      </if>
      <if test="goodsAvailable != null" >
        goods_available,
      </if>
      <if test="summary != null" >
        summary,
      </if>
      <if test="scenePicCode1 != null" >
        scene_pic_code1,
      </if>
      <if test="scenePicCode2 != null" >
        scene_pic_code2,
      </if>
      <if test="scenePicCode3 != null" >
        scene_pic_code3,
      </if>
      <if test="scenePicCode4 != null" >
        scene_pic_code4,
      </if>
      <if test="scenePicCode5 != null" >
        scene_pic_code5,
      </if>
      <if test="scenePicCode6 != null" >
        scene_pic_code6,
      </if>
      <if test="scenePicCode7 != null" >
        scene_pic_code7,
      </if>
      <if test="scenePicCode8 != null" >
        scene_pic_code8,
      </if>
      <if test="scenePicCode9 != null" >
        scene_pic_code9,
      </if>
      <if test="verifyUser != null" >
        verify_user,
      </if>
      <if test="verifyTime != null" >
        verify_time,
      </if>
      <if test="verifyState != null" >
        verify_state,
      </if>
      <if test="verifyMemo != null" >
        verify_memo,
      </if>
      <if test="validTill != null" >
        valid_till,
      </if>
      <if test="deleteFlag != null" >
        delete_flag,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="mineMouthId != null" >
        #{mineMouthId,jdbcType=BIGINT},
      </if>
      <if test="reportTime != null" >
        #{reportTime,jdbcType=TIMESTAMP},
      </if>
      <if test="reportUser != null" >
        #{reportUser,jdbcType=INTEGER},
      </if>
      <if test="vehicleQueueLength != null" >
        #{vehicleQueueLength,jdbcType=INTEGER},
      </if>
      <if test="isCongestion != null" >
        #{isCongestion,jdbcType=INTEGER},
      </if>
      <if test="goodsAvailable != null" >
        #{goodsAvailable,jdbcType=INTEGER},
      </if>
      <if test="summary != null" >
        #{summary,jdbcType=VARCHAR},
      </if>
      <if test="scenePicCode1 != null" >
        #{scenePicCode1,jdbcType=VARCHAR},
      </if>
      <if test="scenePicCode2 != null" >
        #{scenePicCode2,jdbcType=VARCHAR},
      </if>
      <if test="scenePicCode3 != null" >
        #{scenePicCode3,jdbcType=VARCHAR},
      </if>
      <if test="scenePicCode4 != null" >
        #{scenePicCode4,jdbcType=VARCHAR},
      </if>
      <if test="scenePicCode5 != null" >
        #{scenePicCode5,jdbcType=VARCHAR},
      </if>
      <if test="scenePicCode6 != null" >
        #{scenePicCode6,jdbcType=VARCHAR},
      </if>
      <if test="scenePicCode7 != null" >
        #{scenePicCode7,jdbcType=VARCHAR},
      </if>
      <if test="scenePicCode8 != null" >
        #{scenePicCode8,jdbcType=VARCHAR},
      </if>
      <if test="scenePicCode9 != null" >
        #{scenePicCode9,jdbcType=VARCHAR},
      </if>
      <if test="verifyUser != null" >
        #{verifyUser,jdbcType=INTEGER},
      </if>
      <if test="verifyTime != null" >
        #{verifyTime,jdbcType=TIMESTAMP},
      </if>
      <if test="verifyState != null" >
        #{verifyState,jdbcType=INTEGER},
      </if>
      <if test="verifyMemo != null" >
        #{verifyMemo,jdbcType=VARCHAR},
      </if>
      <if test="validTill != null" >
        #{validTill,jdbcType=TIMESTAMP},
      </if>
      <if test="deleteFlag != null" >
        #{deleteFlag,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.sxhalo.lmb.domain.CoalCompanyRealtimeInfo" >
    update coal_company_realtime_info
    <set >
      <if test="reportUser != null" >
        report_user = #{reportUser,jdbcType=INTEGER},
      </if>
      <if test="vehicleQueueLength != null" >
        vehicle_queue_length = #{vehicleQueueLength,jdbcType=INTEGER},
      </if>
      <if test="isCongestion != null" >
        is_congestion = #{isCongestion,jdbcType=INTEGER},
      </if>
      <if test="goodsAvailable != null" >
        goods_available = #{goodsAvailable,jdbcType=INTEGER},
      </if>
      <if test="summary != null" >
        summary = #{summary,jdbcType=VARCHAR},
      </if>
      <if test="scenePicCode1 != null" >
        scene_pic_code1 = #{scenePicCode1,jdbcType=VARCHAR},
      </if>
      <if test="scenePicCode2 != null" >
        scene_pic_code2 = #{scenePicCode2,jdbcType=VARCHAR},
      </if>
      <if test="scenePicCode3 != null" >
        scene_pic_code3 = #{scenePicCode3,jdbcType=VARCHAR},
      </if>
      <if test="scenePicCode4 != null" >
        scene_pic_code4 = #{scenePicCode4,jdbcType=VARCHAR},
      </if>
      <if test="scenePicCode5 != null" >
        scene_pic_code5 = #{scenePicCode5,jdbcType=VARCHAR},
      </if>
      <if test="scenePicCode6 != null" >
        scene_pic_code6 = #{scenePicCode6,jdbcType=VARCHAR},
      </if>
      <if test="scenePicCode7 != null" >
        scene_pic_code7 = #{scenePicCode7,jdbcType=VARCHAR},
      </if>
      <if test="scenePicCode8 != null" >
        scene_pic_code8 = #{scenePicCode8,jdbcType=VARCHAR},
      </if>
      <if test="scenePicCode9 != null" >
        scene_pic_code9 = #{scenePicCode9,jdbcType=VARCHAR},
      </if>
      <if test="verifyUser != null" >
        verify_user = #{verifyUser,jdbcType=INTEGER},
      </if>
      <if test="verifyTime != null" >
        verify_time = #{verifyTime,jdbcType=TIMESTAMP},
      </if>
      <if test="verifyState != null" >
        verify_state = #{verifyState,jdbcType=INTEGER},
      </if>
      <if test="verifyMemo != null" >
        verify_memo = #{verifyMemo,jdbcType=VARCHAR},
      </if>
      <if test="validTill != null" >
        valid_till = #{validTill,jdbcType=TIMESTAMP},
      </if>
      <if test="deleteFlag != null" >
        delete_flag = #{deleteFlag,jdbcType=INTEGER},
      </if>
    </set>
    where mine_mouth_id = #{mineMouthId,jdbcType=BIGINT}
      and report_time = #{reportTime,jdbcType=TIMESTAMP}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.sxhalo.lmb.domain.CoalCompanyRealtimeInfo" >
    update coal_company_realtime_info
    set report_user = #{reportUser,jdbcType=INTEGER},
      vehicle_queue_length = #{vehicleQueueLength,jdbcType=INTEGER},
      is_congestion = #{isCongestion,jdbcType=INTEGER},
      goods_available = #{goodsAvailable,jdbcType=INTEGER},
      summary = #{summary,jdbcType=VARCHAR},
      scene_pic_code1 = #{scenePicCode1,jdbcType=VARCHAR},
      scene_pic_code2 = #{scenePicCode2,jdbcType=VARCHAR},
      scene_pic_code3 = #{scenePicCode3,jdbcType=VARCHAR},
      scene_pic_code4 = #{scenePicCode4,jdbcType=VARCHAR},
      scene_pic_code5 = #{scenePicCode5,jdbcType=VARCHAR},
      scene_pic_code6 = #{scenePicCode6,jdbcType=VARCHAR},
      scene_pic_code7 = #{scenePicCode7,jdbcType=VARCHAR},
      scene_pic_code8 = #{scenePicCode8,jdbcType=VARCHAR},
      scene_pic_code9 = #{scenePicCode9,jdbcType=VARCHAR},
      verify_user = #{verifyUser,jdbcType=INTEGER},
      verify_time = #{verifyTime,jdbcType=TIMESTAMP},
      verify_state = #{verifyState,jdbcType=INTEGER},
      verify_memo = #{verifyMemo,jdbcType=VARCHAR},
      valid_till = #{validTill,jdbcType=TIMESTAMP},
      delete_flag = #{deleteFlag,jdbcType=INTEGER}
    where mine_mouth_id = #{mineMouthId,jdbcType=BIGINT}
      and report_time = #{reportTime,jdbcType=TIMESTAMP}
  </update>
  
  <select id="getMineMouthName" resultType="java.lang.String" parameterType="java.lang.Integer">
    select comp.mine_mouth_name from coal_companies comp where comp.mine_mouth_id=#{mineMouthId,jdbcType=BIGINT}
  </select>
  <select id="getOperatingStatus" resultType="java.lang.Integer" parameterType="java.lang.Integer">
    select comp.operating_status from coal_companies comp where comp.mine_mouth_id=#{mineMouthId,jdbcType=BIGINT}
  </select>
  <select id="getCount" resultType="java.lang.Integer">
    select count(*) from coal_company_realtime_info
    <if test="where != null and where != ''" >
      where ${where}
    </if>      
  </select>
  <select id="findWhereList" resultMap="BaseResultMap">
    select 
    <include refid="Base_Column_List" />
    from coal_company_realtime_info
    <if test="where != null and where != ''" >
      where ${where}
    </if> 
    <if test="order != null and order != ''" >
      order by ${order}
    </if>     
  </select>
  <select id="findPagerList" resultMap="BaseResultMap">
    select 
    <include refid="Base_Column_List" />
    from coal_company_realtime_info
    <if test="where != null and where != ''" >
      where ${where}
    </if> 
    <if test="order != null and order != ''" >
      order by ${order}
    </if>
    <if test="length != null and length != -1" >
      limit ${start},${length}
    </if>     
  </select>
  
</mapper>